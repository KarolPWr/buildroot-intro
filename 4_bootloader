# Konfiguracja u-boota w Buildroocie

    make menuconfig
    menu Bootloaders -> u-boot 

## Dodanie konfiguracji

    Board defconfig -> rpi_4 

## Test

Sprawdź jakie nowe pliki pojawiły się w output/
Wgraj nowy obraz na Raspberry - co się dzieje po boocie?

## Modyfikacja config.txt 

    cp u-boot.bin <karta_sd>/bootfs
    kernel=u-boot.bin

## Komendy w u-boot

    fatload mmc 0:1 ${kernel_addr_r} Image
    setenv bootargs root=/dev/mmcblk0p2 rootwait console=tty1 console=ttyAMA0,115200
    booti ${kernel_addr_r} - ${fdtcontroladdr}

Pytanie: Jak to zautomatyzować?

## Bootscripts

    cd workspace/
    vim boot_cmd.txt # przepisujemy to co u góry
    buildroot/output/build/uboot-2024.01/tools/mkimage -A arm64 -O linux -T script -C none -d boot_cmd.txt boot.scr
    cp boot.scr <karta_sd>/bootfs


